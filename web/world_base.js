// ===== Sheets & Sorcery: World Base Map =====
// 26×32 grid (matches Apps Script C3:AB34)
// Generated by tools/import-map.js from Excel "🗺 База" or placeholder

import { GRID_W, GRID_H } from "./config.js";

// Placeholder: 26×32 grid until Excel import runs
// tools/import-map.js reads "Sheets & Sorcery.xlsx" sheet "🗺 База"
const PLACEHOLDER = [
  ["⛳", "❄️", "❄️", "❄️", "❄️", "🌊", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "💠"],
  ["🌳", "🌳", "🌳", "🌳", "🌳", "🌊", "🌳", "🌳", "🌳", "🌳", "🌳", "❄️", "❄️", "❄️", "🌫️", "🌫️", "🌫️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️"],
  ["🌳", "🌳", "🌳", "🌳", "🌊", "🌊", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️"],
  ["🌳", "⬜️", "⬜️", "🏠", "🌊", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌫️", "🗿", "🌫️", "🌫️", "🌫️", "🌫️", "❄️", "❄️", "❄️", "❄️", "❄️", "❄️"],
  ["🌳", "🏥", "⬜️", "⬜️", "🌊", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌫️", "🗻", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "❄️", "❄️", "❄️"],
  ["🌿", "⬜️", "⬜️", "🏠", "🌊", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🗻", "🌋", "🗻", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🌱", "⬜️", "⬜️", "🏠", "🌊", "🌳", "🌳", "🌳", "🗿", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🗻", "🗻", "🗻", "🌋", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🌳", "⬜️", "⬜️", "⬜️", "🌊", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🗿", "🗻", "🗻", "🗻", "🗻", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🌿", "⬜️", "⬜️", "⬜️", "🌊", "🌊", "🌳", "🌳", "🌳", "🌳", "🌳", "🌫️", "🌊", "🌊", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌊", "🌊", "🌳", "🌳", "🌳", "🌫️", "🌊", "🌊", "🌊", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌊", "🌊", "🕳️", "🌳", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🪦", "🧟", "🌳", "🌳", "🌳", "🌳", "🌳", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌫️", "🕳️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🪦", "🪦", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌊", "🌊", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🧟", "🪦", "🪦", "🌳", "🌳", "🌳", "🌳", "🌳", "🗿", "🌳", "🌳", "🌳", "🌳", "🌊", "🌊", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️", "🌫️"],
  ["🪦", "🪦", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌊", "🌫️", "🌫️", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊"],
  ["🪦", "🪦", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌳", "🌲", "🌳", "🌊", "🌊", "🌊", "🌫️", "🌫️", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊"],
  ["🌲", "🌲", "🌾", "🗻", "🗻", "🗻", "🌾", "🌾", "🌾", "🌾", "🌾", "🌲", "🌳", "🌊", "🌳", "🌊", "🌊", "🌊", "🌊", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌊", "🌊"],
  ["🌲", "🌲", "🌾", "🗻", "🗻", "🗻", "🌾", "🌾", "🌾", "🌾", "🌾", "🌲", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌊", "🌊", "🌊"],
  ["🌲", "🌾", "🌾", "🗻", "🌾", "🌾", "🌾", "🌾", "🌾", "🌾", "🌲", "🌲", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌊", "🌊", "🌊"],
  ["🌲", "🌲", "🌾", "🌾", "🌾", "🌾", "🏚️", "🌾", "🌾", "🌾", "🌲", "🌲", "🌲", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌊", "🗿", "🌫️", "🌫️", "🌫️", "🌊", "🌊", "🌊"],
  ["🌲", "🌲", "🌾", "🌾", "🌾", "🌾", "🌾", "🌾", "🌾", "🌲", "🌲", "🌲", "🌲", "🕳️", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🌊", "🌫️", "🌫️", "🌫️", "🌊", "🌊", "🗻"],
  ["🌲", "🌲", "🌲", "🌲", "🌲", "🌾", "🌾", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌳", "🌊", "🌫️", "🌫️", "🌫️", "🌊", "🌫️", "🌫️", "🌫️", "🗻", "🗻", "🗻"],
  ["🌲", "🌲", "🌲", "🕳️", "🌲", "🌲", "🌾", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌊", "🌫️", "🌫️", "🌊", "🌊", "🌊", "🌊", "🌊", "🗻", "🗻", "🗻"],
  ["🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌫️", "🌊", "🌫️", "🌊", "🌊", "🌊", "🌊", "🗻", "🗻", "🗻", "🗻", "🗻"],
  ["🌲", "🗻", "🗻", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌫️", "🌊", "🌫️", "🌫️", "🌊", "🌊", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻"],
  ["🗻", "🗻", "🗻", "🗻", "🗻", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌊", "🌫️", "🌫️", "🌫️", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻"],
  ["🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🌲", "🗿", "🌊", "🌫️", "🌫️", "🌫️", "🌫️", "🗻", "🗿", "🗻", "🗻", "🗻", "🗻", "🗻"],
  ["⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "🗻", "🌲", "🌊", "🌊", "🌊", "🌲", "🌊", "🌫️", "🌫️", "🌫️", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻"],
  ["⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "🗻", "🌊", "🌊", "🗿", "🌊", "🌊", "🌊", "🌫️", "🌫️", "🌫️", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻"],
  ["⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "🗿", "⬜️", "⬜️", "⬜️", "🌲", "🌲", "🌲", "🌊", "🌫️", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻", "🗻"],
  ["💠", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "🌊", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️"],
  ["⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️"],
  ["⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "⬜️", "💠"],
];

function ensureDimensions(grid) {
  const h = grid.length;
  const w = grid[0]?.length ?? 0;
  const out = [];
  for (let y = 0; y < GRID_H; y++) {
    const row = [];
    for (let x = 0; x < GRID_W; x++) {
      const val = (grid[y] && grid[y][x]) ? String(grid[y][x]).trim() : "⬜️";
      row.push(val || "⬜️");
    }
    out.push(row);
  }
  return out;
}

export const WORLD = ensureDimensions(PLACEHOLDER);
